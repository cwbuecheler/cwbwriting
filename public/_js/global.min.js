const getById=e=>document.getElementById(e),getByClass=e=>document.getElementsByClassName(e),buildEmail=(e,t,a,l)=>`${a}${e}${l}${t}`,buildEmailLink=e=>`<a href="mailto:${e}">${e}</a>`,injectEmailLink=(e,t,a,l,n)=>{const d=buildEmail(t,a,l,n);getById(e).innerHTML=buildEmailLink(d)},setCopyrightYear=e=>{const t=(new Date).getFullYear();getById(e).innerHTML=t},ls={get:e=>window.localStorage.getItem(e),set:(e,t)=>window.localStorage.setItem(e,t),del:e=>window.localStorage.removeItem(e)},getMastodonData=()=>{fetch("https://mastodon.social/@cwbuecheler.rss").then((e=>e.text())).then((e=>(new window.DOMParser).parseFromString(e,"text/xml"))).then((e=>{const t=e.querySelectorAll("item")[0];let a="";const l=t.querySelector("link").innerHTML,n=t.querySelector("pubDate").innerHTML,d=t.querySelector("description").innerHTML.replace("&lt;p&gt;","").replace("&lt;/p&gt;","");a+=`<p class="name"><a href="https://mastodon.social/cwbuecheler" target="_blank" rel="me">@cwbuecheler</a> Â· <span><a href="${l}" target="_blank">${new Date(n).toLocaleString("en-US",{timeZone:"EST"})}</a></span></p>`,a+=`<p class="text">${d}</p>`;document.getElementById("mastodon").innerHTML=a}))},afterDOMLoaded=async()=>{const e=ls.get("mode");window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?getById("htmltop").className="dark":getById("htmltop").className="light",getById("htmltop").className="light"===e?"light":"dark",setCopyrightYear("copyyear"),getById("contactemail")&&injectEmailLink("contactemail","ack@c","ting.com","feedb","wbwri"),getById("linkModeDark").addEventListener("click",(e=>{e.preventDefault(),ls.set("mode","dark"),getById("htmltop").className="dark"})),getById("linkModeLight").addEventListener("click",(e=>{e.preventDefault(),ls.set("mode","light"),getById("htmltop").className="light"})),getById("linkFullDesc")&&getById("linkFullDesc").addEventListener("click",(e=>{e.preventDefault(),getByClass("desctoggle")[0].style.display="none",getByClass("fulldesc")[0].style.display="block"}))};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",afterDOMLoaded):afterDOMLoaded();